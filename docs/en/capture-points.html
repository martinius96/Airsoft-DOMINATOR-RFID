<!DOCTYPE html>
<html lang="en-US">
<head>
	<!-- Primary Meta Tags -->
	<title>WiFi points - Airsoft | Paintball</title>
	<meta name="title" content="WiFi points - Airsoft | Paintball">
	<meta name="description" content="WiFi points for Airsoft, Paintball. Capture points game mode, points communicating up to 1100 meters.">
	<link rel="icon" type="image/png" href="https://martinius96.github.io/termostat-ethernet/favicon.png">
	<link rel="sitemap" type="application/xml" title="Sitemap" href="../sitemap.xml" />
	<!-- Open Graph / Facebook -->
	<meta property="og:type" content="website">
	<meta property="og:url" content="https://martinius96.github.io/Airsoft-DOMINATOR-RFID/en/capture-points.html">
	<meta property="og:title" content="WiFi points - Airsoft | Paintball">
	<meta property="og:description" content="WiFi points for Airsoft, Paintball. Capture points game mode, points communicating up to 1100 meters.">
	<meta property="og:image" content="">

	<!-- Twitter -->
	<meta property="twitter:card" content="summary_large_image">
	<meta property="twitter:url" content="https://martinius96.github.io/Airsoft-DOMINATOR-RFID/en/capture-points.html">
	<meta property="twitter:title" content="WiFi points - Airsoft | Paintball">
	<meta property="twitter:description" content="WiFi points for Airsoft, Paintball. Capture points game mode, points communicating up to 1100 meters.">
	<meta property="twitter:image" content="">
	
	<meta name="google-site-verification" content="UwZZh2EXv3iWUAi_1Z0hLxVCz6ySJ4UdY_BPoLtejwo" />    	
	<meta property='fb:admins' content='100001242570317'>
    	<meta charset="utf-8">
    	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
	<script type="text/javascript">
    		window.smartlook||(function(d) {
    			var o=smartlook=function(){ o.api.push(arguments)},h=d.getElementsByTagName('head')[0];
    			var c=d.createElement('script');o.api=new Array();c.async=true;c.type='text/javascript';
    			c.charset='utf-8';c.src='https://rec.smartlook.com/recorder.js';h.appendChild(c);
    		})(document);
    		smartlook('init', 'db50efe9fff280a17db52b82be221240cbbd3dbe');
	</script>    
<style>

.aa_h2{
  font:100 5rem/1 Roboto;
  text-transform: uppercase;
}
table{
   background: #fff;
}
table,thead,tbody,tfoot,tr, td,th{
  text-align: center;
  margin: auto;
  border:1px solid #dedede;
  padding: 1rem;
  width: 50%;
}
.table    { display: table; width: 100%; }
.tr       { display: table-row;  }
.thead    { display: table-header-group }
.tbody    { display: table-row-group }
.tfoot    { display: table-footer-group }
.col      { display: table-column }
.colgroup { display: table-column-group }
.td, .th   { display: table-cell; width: 50%; }
.caption  { display: table-caption }

.table,
.thead,
.tbody,
.tfoot,
.tr,
.td,
.th{
  text-align: center;
  margin: auto;
  padding: 1rem;
}
.table{
  background: #fff;
  margin: auto;
  border:none;
  padding: 0;
}

.th{
  font-weight: 700;
  border:1px solid #dedede;
  &:nth-child(odd){
    border-right:none;
  }
}
.td{
  font-weight: 300;
  border:1px solid #dedede;
  border-top:none;
  &:nth-child(odd){
    border-right:none;
  }
}

.aa_htmlTable{
  background: tomato;
  padding: 5rem;
  display: table;
  width: 100%;
  height: 100vh;
  vertical-align: middle;
}
.aa_css{
  background: skyblue;
  padding: 5rem;
  display: table;
  width: 100%;
  height: 100vh;
  vertical-align: middle;
}

.aa_ahmadawais{
  display: table;
  width: 100%;
  font: 100 1.2rem/2 Roboto;
  margin: 5rem auto;
}
    
  </style>  
</head>
<body>
	<div class="container">
		<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <ul class="nav navbar-nav">
     	<li><a href="index.html">RFID DOMINATOR</a></li>
<li><a href="dominator-encoder.html">Configurable DOMINATOR</a></li>
<li><a href="button-dominator.html">Button DOMINATOR</a></li> 
<li class="active"><a href="capture-points.html">WiFi points</a></li>	
<a href="../capture-points.html"><img src="https://futbalovysen.sk/wp-content/uploads/slovakia.png" alt="Slovak flag.png, 2,2kB" title="Slovakia" height="32" width="32"></a>
<a href="../de/capture-points.html"><img src="https://futbalovysen.sk/wp-content/uploads/germany.png" alt="Germany.png, 2,2kB" title="Germany" height="32" width="32"></a>
<a href="../ru/capture-points.html"><img src="https://futbalovysen.sk/wp-content/uploads/russia.png" alt="russia.png, 2,2kB" title="Russia" height="32" width="32"></a>	
<a href="capture-points.html"><img src="https://i2.wp.com/facsusa.com/wp-content/uploads/2017/05/Flag-of-England.png?ssl=1" alt="English.png, 2,2kB" title="English" height="32" width="32"></a>     	    
<!---
<a href="../it/capture-points.html"><img src="https://www.flaticon.com/premium-icon/icons/svg/3015/3015784.svg" alt="Italy.png, 2,2kB" title="Italy" height="32" width="32"></a>
<a href="../da/capture-points.html"><img src="https://image.flaticon.com/icons/svg/555/555607.svg" alt="Danish.png, 2,2kB" title="Danish" height="32" width="32"></a>
--->
</div>
</nav>  
  		<div class="row">
    			<div class="col-sm-12">
<div class="alert alert-success">
	<strong>Repository with test software implementations for Airsoft points: </strong><a href="https://github.com/martinius96/Capture_Points_Arduino_nRF24L01_Airsoft_Paintball">Airsoft - WiFi points - Arduino</a>
</div>	
<div class="alert alert-info">
	<strong>The firmware is available free of charge</strong>
</div>					
<span class="label label-default">Arduino</span>
<span class="label label-primary">DOMINATOR</span>
<span class="label label-success">WiFi</span>
<span class="label label-info">Stopwatch</span>
<span class="label label-warning">Schematics</span>
<span class="label label-danger">Pushbutton</span>
<span class="label label-default">Capture Points</span>
<span class="label label-primary">Paintball</span>
<hr><center><h2>WiFi points for Airsoft | Paintball</h2></center><hr>
<h4>Entities in the WiFi points project:</h4><hr>
 <div class="row">
  <div class="col-sm-6"><center><img src="https://i.imgur.com/2uGic8e.png" width="128px" height="128px" style="border-radius: 50%;" alt="Team red - button for user entry" title="Team red - button for user entry"><br><b><font color="#C0392B">Team RED</font></b></center></div>
  <div class="col-sm-6"><center><img src="https://i.imgur.com/etKbK4l.png" width="128px" height="128px" style="border-radius: 50%;" alt="Team red - button for user entry" title="Team gre - button for user entry"><br><b><font color="#27AE60">Team GRE</font></b></center></div>
</div>
<hr><h4>Project description WiFi points:</h4><hr>
<p style="text-align: justify;">
Capture Points game mode for Airsoft and Paintball sports.
The points communicate with each other via WiFi modules from the nRF24L01 series, while they exchange information about the status of the point (whether it is occupied and by which team).
One point is a permanent transmitter and requires communication from the other point. The second point is the receiver and responds to the data received by the transmitter, thus avoiding collisions when communicating on the WiFi frequency 2.4 GHz.
Each of the points uses an Arduino control microcontroller (Arduino Uno / Nano), or a separate chip (Atmel) AtMega328P, which controls the entire logic of the system.
There are 2 teams in the game - <b><font color="#C0392B">RED team</font></b> a <b><font color="#27AE60">GRE team</font></b>, who play against each other and try to occupy both points by pressing the appropriate button.	
<hr>
Button input indicates the action of occupying a point by a member of the RED or GRE team.
The pushbuttons connected in the INPUT_PULLUP mode are used (input of Arduino is connected to internal pullup resistor).
Pressing the button brings GND signal to the Arduino digital input terminal (Active-LOW switching signal).
<b>Press (hold) duration / number of presses is not implemented. The point responds immediately to a button press without any delay.</a>
Game ends when both points are occupied by the same team.
On button press, it is indicated by buzzer for all players nearby (information about change).
At the end of game both buzzers will beep in infinite loop. 
At the same time WiFi communication between the nRF24L01 modules is closed.
<hr>
WiFi modules nRF24l01 communicate at 2.4 GHz. nRF24l01 (without + PA + LNA) communicate at about 70 meters, nRF24l01 + PA + LNA also per kilometer, respectively in the forest and otherwise disturbed environment at the level of 450-700 meters at maximum transmission power.
For external power supply, it is necessary to use a YL-adapter with a 3.3V converter and power it via an external adapter.
Do not use a 5V power supply from the Arduino, there is a risk of destroying the controller, as well as the 3V3 terminal is not suitable for powering the module, as it has a high current consumption in more powerful transmission modes.
Restart of both points is performed by resetting the Arduín button, or by pulling out and connecting the power supply (power-on cycle).
</p>
<div class="alert alert-info">
  <strong>Wireless modules communicate at 2.4GHz, it is not WiFi technology, they do not require a router or access point!</strong> The modules have their own communication channel with a choice of up to 140 channels.
</div>
<hr><h4>Supported module speeds nRF24L01:</h4> <hr>
<li>250 kbps - <font color="red"><b>this option is not supported for older nRF24L01!</b></font></li>
<li>1 Mbps</li>
<li>2 Mbps</li>
<hr><h4>Power modes of nRF24L01 modules:</h4><hr> 
<li>RF24_PA_MIN = -18 dBm --> 0,0158 mW</li> 
<li>RF24_PA_LOW = -12 dBm --> 0,0631 mW</li>
<li>RF24_PA_MED = -6 dBm --> 0,2512 mW</li>
<li>RF24_PA_HIGH = 0 dBm --> 1 mW</li>
<hr><h4>Block diagram - WiFi points - Airsoft:</h4><hr>
<center><img src="https://i.imgur.com/hglnwgX.jpg" style="display: block; max-width: 100%; height: auto;" alt="Bloková schéma / Block scheme - Capture Points - Airsoft / Paintball, Arduino, nRF24L01" title="Bloková schéma / Block scheme - Capture Points - Airsoft / Paintball, Arduino, nRF24L01"></center>	
<hr><h4>Compatible control hardware for WiFi Airsoft points:</h4><hr>
<div class="row">
<div class="col-sm-3"><center><img src="https://i.imgur.com/wtnzKqO.png" width="128px" height="128px" style="border-radius: 50%;" alt="Control microcontroller Arduino UNO for Domination Timer" title="Control microcontroller Arduino UNO for Domination Timer"><br><b><a href="https://www.ebay.com/itm/254532156570">Arduino UNO</a></b></center></div>
<div class="col-sm-3"><center><img src="https://i.imgur.com/XHC8DBe.png" width="128px" height="128px" style="border-radius: 50%;" alt="Control microcontroller Arduino Nano for Domination Timer" title="Control microcontroller Arduino Nano for Domination Timer"><br><b><a href="https://www.ebay.com/itm/252742123829">Arduino Nano</a></b></center></div>
<div class="col-sm-3"><center><img src="https://i.imgur.com/4xX0BoE.png" width="128px" height="128px" style="border-radius: 50%;" alt="Control microcontroller AtMega328P DIP" title="Control microcontroller AtMega328P DIP"><br><b><a href="https://www.ebay.com/itm/292204064766">AtMega328P - DIP28</a></b></center></div>
<div class="col-sm-3"><center><img src="https://i.imgur.com/FANTMuW.png" width="128px" height="128px" style="border-radius: 50%;" alt="Control microcontroller AtMega328P SMD" title="Control microcontroller AtMega328P SMD"><br><b><a href="https://www.ebay.com/itm/142666414237">AtMega328P - SMD</a></b></center></div>
</div>	
<hr><h4>Peripherals for WiFi Airsoft points:</h4><hr>
<div class="row">
<div class="col-sm-3"><center><img src="https://i.imgur.com/1cykMkD.png" width="128px" height="128px" style="border-radius: 50%;" alt="2x WiFi module nRF24L01 / nRF24L01 + PA + LNA" title="2x WiFi module nRF24L01 / nRF24L01 + PA + LNA"><br><b>2x WiFi module nRF24L01 / nRF24L01 + PA + LNA</b></center></div>
<div class="col-sm-3"><center><img src="https://i.imgur.com/9P3aF98.png" width="128px" height="128px" style="border-radius: 50%;" alt="Pushbutton (pushbutton)" title="Pushbutton (pushbutton)"><br><b>4x Pushbutton</b></center></div>
<div class="col-sm-3"><center><img src="https://i.imgur.com/HPRdfXo.png" width="128px" height="128px" style="border-radius: 50%;" alt="Buzzer" title="Buzzer"><br><b>2x Buzzer</b></center></div>
<div class="col-sm-3"><center><img src="https://i.imgur.com/OxaPuBN.png" width="128px" height="128px" style="border-radius: 50%;" alt="2x LEDs" title="2x LEDs"><br><b>4x LEDs</b></center></div>
</div>
<hr><center><h3>Wiring diagram - WiFi points</h3></center><hr>
<center><img src="https://i.imgur.com/noWoy6S.png" style="display: block; max-width: 100%; height: auto;" alt="WiFi body - DOMINATOR - schéma zapojenia - Arduino / Airsoft, stopwatch, DOMINATION" title="WiFi body - - schéma zapojenia - Arduino / Airsoft, stopwatch, DOMINATION"></center>        			
<hr><center><h3>WiFi points - test connection</h3></center><hr>
<center><img src="https://i.imgur.com/bx6mj2V.png" style="display: block; max-width: 100%; height: auto;" alt="WiFi body - - Arduino pre Airsoft, Paintball" title="WiFi body - - Arduino pre Airsoft, Paintball"></center>        			
<hr><h3>WiFi points - Capture Points - How it works:</h3><hr>
<center><iframe width="80%" height="315" src="https://www.youtube.com/embed/SFTyy0cOauU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></center>
<h3>Table connection of terminals - Configurable DOMINATOR - fully corresponds to the wiring diagram:</h3>
<div class="table-responsive">   
<table class="table" style="border: 1px solid black;">
<thead>		
<tr>
<td align="left" style="background-color:#C0392B"><strong>Arduino Uno / Nano (AtMega328P)</strong></td>
<td align="right" style="background-color:#C0392B">nRF24L01<strong></strong></td>
</tr>
<tr>
<td align="left" style="background-color:#C0392B">GND</td>
<td align="right" style="background-color:#C0392B">GND</td>
</tr>
<tr>
<td align="left" style="background-color:#C0392B">3V3 / external source</td>
<td align="right" style="background-color:#C0392B">Vcc</td>
</tr>
<tr>
<td align="left" style="background-color:#C0392B">D3</td>
<td align="right" style="background-color:#C0392B">CSN</td>
</tr>
<tr>
<td align="left" style="background-color:#C0392B">D4</td>
<td align="right" style="background-color:#C0392B">CE</td>
</tr>
<tr>
<td align="left" style="background-color:#C0392B">D11</td>
<td align="right" style="background-color:#C0392B">MOSI</td>
</tr>
<tr>
<td align="left" style="background-color:#C0392B">D12</td>
<td align="right" style="background-color:#C0392B">MISO</td>
</tr>
<tr>
<td align="left" style="background-color:#C0392B">D13</td>
<td align="right" style="background-color:#C0392B">SCK</td>
</tr>
<tr>
<td align="left" style="background-color:#F8C471"><strong>Arduino Uno / Nano (AtMega328P)</strong></td>
<td align="right" style="background-color:#F8C471"><strong>LED diodes</strong></td>
</tr>
<tr>
<td align="left" style="background-color:#F8C471">GND</td>
<td align="right" style="background-color:#F8C471">GND</td>
</tr>
<tr>
<td align="left" style="background-color:#F8C471">D7</td>
<td align="right" style="background-color:#F8C471">IN (RED)</td>
</tr>
<tr>
<td align="left" style="background-color:#F8C471">D8</td>
<td align="right" style="background-color:#F8C471">IN (GREEN)</td>
</tr>
<td align="left" style="background-color:#5DADE2"><strong>Arduino Uno / Nano (AtMega328P)</strong></td>
<td align="right" style="background-color:#5DADE2"><strong>Pushbuttons (INPUT_PULLUP)</strong></td>
</tr>
<tr>
<td align="left" style="background-color:#5DADE2">GND</td>
<td align="right" style="background-color:#5DADE2">GND</td>
</tr>
<tr>
<td align="left" style="background-color:#5DADE2">D5</td>
<td align="right" style="background-color:#5DADE2">IN (RED)</td>
</tr>
<tr>
<td align="left" style="background-color:#5DADE2">D6</td>
<td align="right" style="background-color:#5DADE2">IN (GRE)</td>
</tr>
<td align="left" style="background-color:#AF7AC5"><strong>Arduino Uno / Nano (AtMega328P)</strong></td>
<td align="right" style="background-color:#AF7AC5"><strong>Buzzer</strong></td>
</tr>
<tr>
<td align="left" style="background-color:#AF7AC5">D2</td>
<td align="right" style="background-color:#AF7AC5">IO</td>
</tr>
<tr>
<td align="left" style="background-color:#AF7AC5">GND</td>
<td align="right" style="background-color:#AF7AC5">GND</td>
</tr>
</tbody>
</table>				</div>
<hr><center><h2>Program - WiFi points</h2></center>
<hr>
<h3><font color="#2ECC71">Program - NODE 1 (permanent transmitter)</font></h3>					   
<hr>
<pre style="background: #2ECC71;">
// nRF24L01 transmitter
#include &lt;SPI.h>
#include "RF24.h"
#define CE 4
#define CS 3
RF24 nRF(CE, CS);
int response = 8;
int received = 12;
const int buzzer = 2;
const int red_team = 5;
const int blue_team = 6;
const int red_led = 7;
const int blue_led = 8;
byte adresaPrijimac[] = "prijimac00";
byte adresaVysilac[] = "vysilac00";
void setup() {
  Serial.begin(9600);
  pinMode(buzzer, OUTPUT);
  pinMode(red_led, OUTPUT);
  pinMode(blue_led, OUTPUT);
  pinMode(red_team, INPUT_PULLUP);
  pinMode(blue_team, INPUT_PULLUP);
  nRF.begin();
  nRF.setDataRate( RF24_250KBPS );
  nRF.setPALevel(RF24_PA_LOW);
  nRF.openWritingPipe(adresaVysilac);
  nRF.openReadingPipe(1, adresaPrijimac);
  nRF.startListening();
}

void loop() {
  if (response == received) {
    tone( buzzer, 900, 800);
    delay(1000);
  } else {
    nRF.stopListening();
    int output_red = digitalRead(red_team);
    int output_blue = digitalRead(blue_team);
    if (output_red == LOW) {
      response = 1;
      digitalWrite(red_led, HIGH);
      digitalWrite(blue_led, LOW);
    } else if (output_blue == LOW) {
      response = 2;
      digitalWrite(red_led, LOW);
      digitalWrite(blue_led, HIGH);
    }
    nRF.write( &response, sizeof(response) );
    nRF.startListening();
    while (nRF.available()) {
      nRF.read( &received, sizeof(received) );
    }
    Serial.println("Received datas: ");
    Serial.println(received);
    Serial.println("Response: ");
    Serial.println(response);
    delay(50);
  }
}
</pre>   
<hr>
<h3><font color="#CB4335">Program - NODE 2 (permanent receiver with callback to the transmitter)</font></h3>					   
<hr>
<pre style="background: #CB4335;">
// nRF24L01 receiver
#include &lt;SPI.h>
#include "RF24.h"
int response = 3;
int received = 4;
const int buzzer = 2;
const int red_team = 5;
const int blue_team = 6;
const int red_led = 7;
const int blue_led = 8;
#define CE 4
#define CS 3
RF24 nRF(CE, CS);
byte adresaPrijimac[] = "prijimac00";
byte adresaVysilac[] = "vysilac00";
void setup() {
  Serial.begin(9600);
  pinMode(buzzer, OUTPUT);
  pinMode(red_led, OUTPUT);
  pinMode(blue_led, OUTPUT);
  pinMode(red_team, INPUT_PULLUP);
  pinMode(blue_team, INPUT_PULLUP);
  nRF.begin();
  nRF.setDataRate( RF24_250KBPS );
  nRF.setPALevel(RF24_PA_LOW);
  nRF.openWritingPipe(adresaPrijimac);
  nRF.openReadingPipe(1, adresaVysilac);
  nRF.startListening();
}

void loop() {
  if (response == received) {
    tone( buzzer, 900, 800);
    delay(1000);
  } else {
    if ( nRF.available()) {
      while (nRF.available()) {
        nRF.read( &received, sizeof(received) );
      }
      Serial.println("Received datas:: ");
      Serial.println(received);
      Serial.println("Response: ");
      Serial.println(response);
      nRF.stopListening();
      int output_red = digitalRead(red_team);
      int output_blue = digitalRead(blue_team);
      if (output_red == LOW) {
        response = 1;
        digitalWrite(red_led, HIGH);
        digitalWrite(blue_led, LOW);
      } else if (output_blue == LOW) {
        response = 2;
        digitalWrite(red_led, LOW);
        digitalWrite(blue_led, HIGH);
      }
      nRF.write( &response, sizeof(response) );
      nRF.startListening();
    }
  }
}
</pre>       



</div>
		</div>
</div>
</body>
</html>
