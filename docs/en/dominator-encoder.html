<!DOCTYPE html>
<html lang="en-US">
<head>
	<!-- Primary Meta Tags -->
	<title>Domination Timer Airsoft | Paintball - configurable stopwatch via rotary encoder KY-040</title>
	<meta name="title" content="Domination Timer Airsoft | Paintball - configurable stopwatch via rotary encoder KY-040">
	<meta name="description" content="Button Domination Timer with rotary encoder for configurable game mode Domination / Countdown, timeout, button hold time. Stopwatch for Airsoft, Paintball, Nerf Wars.">
	<link rel="icon" type="image/png" href="https://martinius96.github.io/termostat-ethernet/favicon.png">
	<link rel="sitemap" type="application/xml" title="Sitemap" href="../sitemap.xml" />
	<!-- Open Graph / Facebook -->
	<meta property="og:type" content="website">
	<meta property="og:url" content="https://martinius96.github.io/Airsoft-DOMINATOR-RFID/en/dominator-encoder.html">
	<meta property="og:title" content="Domination Timer Airsoft | Paintball - configurable stopwatch via rotary encoder KY-040">
	<meta property="og:description" content="Button Domination Timer with rotary encoder for configurable game mode Domination / Countdown, timeout, button hold time. Stopwatch for Airsoft, Paintball, Nerf Wars">
	<meta property="og:image" content="">

	<!-- Twitter -->
	<meta property="twitter:card" content="summary_large_image">
	<meta property="twitter:url" content="https://martinius96.github.io/Airsoft-DOMINATOR-RFID/en/dominator-encoder.html">
	<meta property="twitter:title" content="Domination Timer Airsoft | Paintball - configurable stopwatch via rotary encoder KY-040">
	<meta property="twitter:description" content="Button Domination Timer with rotary encoder for configurable game mode Domination / Countdown, timeout, button hold time. Stopwatch for Airsoft, Paintball, Nerf Wars">
	<meta property="twitter:image" content="">
	
	<meta name="google-site-verification" content="UwZZh2EXv3iWUAi_1Z0hLxVCz6ySJ4UdY_BPoLtejwo" />    	
	<meta property='fb:admins' content='100001242570317'>
    	<meta charset="utf-8">
    	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
	<script type="text/javascript">
    		window.smartlook||(function(d) {
    			var o=smartlook=function(){ o.api.push(arguments)},h=d.getElementsByTagName('head')[0];
    			var c=d.createElement('script');o.api=new Array();c.async=true;c.type='text/javascript';
    			c.charset='utf-8';c.src='https://rec.smartlook.com/recorder.js';h.appendChild(c);
    		})(document);
    		smartlook('init', 'db50efe9fff280a17db52b82be221240cbbd3dbe');
	</script>    
<script type="text/javascript">
  function downloadFile(data, fileName, type="text/plain") {
    // Create an invisible A element
    const a = document.createElement("a");
    a.style.display = "none";
    document.body.appendChild(a);

    // Set the HREF to a Blob representation of the data to be downloaded
    a.href = window.URL.createObjectURL(
      new Blob([data], { type })
    );

    // Use download attribute to set set desired file name
    a.setAttribute("download", fileName);

    // Trigger the download by simulating click
    a.click();

    // Cleanup
    window.URL.revokeObjectURL(a.href);
    document.body.removeChild(a);
  }
</script>
<style>

.aa_h2{
  font:100 5rem/1 Roboto;
  text-transform: uppercase;
}
table{
   background: #fff;
}
table,thead,tbody,tfoot,tr, td,th{
  text-align: center;
  margin: auto;
  border:1px solid #dedede;
  padding: 1rem;
  width: 50%;
}
.table    { display: table; width: 100%; }
.tr       { display: table-row;  }
.thead    { display: table-header-group }
.tbody    { display: table-row-group }
.tfoot    { display: table-footer-group }
.col      { display: table-column }
.colgroup { display: table-column-group }
.td, .th   { display: table-cell; width: 50%; }
.caption  { display: table-caption }

.table,
.thead,
.tbody,
.tfoot,
.tr,
.td,
.th{
  text-align: center;
  margin: auto;
  padding: 1rem;
}
.table{
  background: #fff;
  margin: auto;
  border:none;
  padding: 0;
}

.th{
  font-weight: 700;
  border:1px solid #dedede;
  &:nth-child(odd){
    border-right:none;
  }
}
.td{
  font-weight: 300;
  border:1px solid #dedede;
  border-top:none;
  &:nth-child(odd){
    border-right:none;
  }
}

.aa_htmlTable{
  background: tomato;
  padding: 5rem;
  display: table;
  width: 100%;
  height: 100vh;
  vertical-align: middle;
}
.aa_css{
  background: skyblue;
  padding: 5rem;
  display: table;
  width: 100%;
  height: 100vh;
  vertical-align: middle;
}

.aa_ahmadawais{
  display: table;
  width: 100%;
  font: 100 1.2rem/2 Roboto;
  margin: 5rem auto;
}
    
  </style>  
</head>
<body>
	<div class="container">
		<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <ul class="nav navbar-nav">
      	<li><a href="index.html">RFID DOMINATOR</a></li>
<li class="active"><a href="dominator-encoder.html">Configurable DOMINATOR</a></li>
<li><a href="button-dominator.html">Button DOMINATOR</a></li> 
<li><a href="capture-points.html">WiFi points</a></li>	 
<a href="../dominator-encoder.html"><img src="https://futbalovysen.sk/wp-content/uploads/slovakia.png" alt="Slovak flag.png, 2,2kB" title="Slovakia" height="32" width="32"></a>
<a href="../de/dominator-encoder.html"><img src="https://futbalovysen.sk/wp-content/uploads/germany.png" alt="Germany.png, 2,2kB" title="Germany" height="32" width="32"></a>
<a href="../ru/dominator-encoder.html"><img src="https://futbalovysen.sk/wp-content/uploads/russia.png" alt="russia.png, 2,2kB" title="Russia" height="32" width="32"></a>	
<a href="dominator-encoder.html"><img src="https://i2.wp.com/facsusa.com/wp-content/uploads/2017/05/Flag-of-England.png?ssl=1" alt="English.png, 2,2kB" title="English" height="32" width="32"></a>    
<!---
<a href="../it/dominator-encoder.html"><img src="https://www.flaticon.com/premium-icon/icons/svg/3015/3015784.svg" alt="Italy.png, 2,2kB" title="Italy" height="32" width="32"></a>
<a href="../da/dominator-encoder.html"><img src="https://image.flaticon.com/icons/svg/555/555607.svg" alt="Danish.png, 2,2kB" title="Danish" height="32" width="32"></a>
--->
</div>
</nav>  
  		<div class="row">
    			<div class="col-sm-12">
<div class="alert alert-success">
	<strong>Repository with project - wiring diagrams, machine codes for testing - Github: </strong><a href="https://github.com/martinius96/Airsoft-DOMINATOR-RFID">Airsoft - DOMINATOR - Arduino</a>
</div>	
<div class="alert alert-info">
	<strong>If you are interested in firmware for the Configurable DOMINATOR in machine code (.hex), contact me:</strong> martinius96@gmail.com
	
</div>					
<span class="label label-default">Arduino</span>
<span class="label label-primary">LCD</span>
<span class="label label-success">Rotary Encoder</span>
<span class="label label-info">Stopwatch</span>
<span class="label label-warning">Schematics</span>
<span class="label label-danger">Button</span>
<span class="label label-default">Menu</span>
<span class="label label-primary">Paintball</span>
<span class="label label-success">Domination Timer</span>
<hr><center><h2>Configurable Domination Timer - stopwatch for Airsoft | Paintball</h2></center><hr>
<h4>Entities in the project configurable Domination Timer:</h4>
 <div class="row">
  <div class="col-sm-6"><center><img src="https://i.imgur.com/2uGic8e.png" width="128px" height="128px" style="border-radius: 50%;" alt="Tím RED - tlačidlo pre používateľský vstup" title="Tím RED - tlačidlo pre používateľský vstup"><br><b><font color="#C0392B">Team RED</font></b></center></div>
  <div class="col-sm-6"><center><img src="https://i.imgur.com/bBzcrj0.png" width="128px" height="128px" style="border-radius: 50%;" alt="Tím GRE - tlačidlo pre používateľský vstup" title="Tím GRE - tlačidlo pre používateľský vstup"><br><b><font color="#27AE60">Team GRE</font></b></center></div>
</div>
<hr>
<h4>Project description - Configurable Domination Timer:</h4>
<hr>
<p style="text-align: justify;">
Domination Timer is a device - a stopwatch for sports such as Airsoft, Paintball, which allow you to measure the time of occupying a point with a resolution of seconds.
The stopwatch is equipped with a 16x2 / 20x4 LCD character display. After switching on the device, it is possible to switch between menu items on the display using the rotary encoder - KY-040.
Through the items, it is possible to start the Domination Timer game mode, which responds to user buttons (inputs), or it is possible to set the time of team occupancy before the game in the configurable mode.
This parameter represents the required length of holding the button until the team successfully occupies the point. This configurable parameter is implemented for the number of seconds.
The second configurable parameter is the automatic end of the game to reach a certain number of hours of the stopwatch with the UNLIMITED option - when the stopwatch counts to infinity, or after the maximum display time on the display - 99 hours, 59 minutes, 59 seconds.
Stopwatch is using Arduino microcontroller (with AtMega chip) or a it can use that chip stadalone. Chip controls whole Domination Timer settings, logic of stopwatch etc.
There are 2 teams in the game - <b><font color="#C0392B">RED team</font></b> and <b><font color="#27AE60">GRE team</font></b>, which play against each other and occupy the imaginary point that is formed by this device - Domination Timer.				
At the beginning of the game, the display shows the times 00 hours, 00 minutes, 00 seconds for <b><font color="#C0392B">RED team</font></b>, <b><font color="#27AE60">GRE team</font></b>.
<hr>
Button Domination Timer uses button input for the action of occupying a point by a team member, as well as for input of a referee entity.
Thus, a total of 2 buttons for 3 system entities, the switching buttons connected in the INPUT_PULLUP mode are used.
Pressing the button feeds the GND signal to the Arduino digital input terminal (Active-LOW switching signal).
Switch buttons are used, not switch buttons (they would not react to the system logic, all software would always be "pressed").
The configurable Domination Timer responds to the length of the press, which is set in the configuration menu via an encoder.
It is required to hold the button for a given time. The system does not respond to short presses.
<b> In the extended version, it is also possible to set point neutralization (stopping the time of the active team at the point if a member of the other team holds the button at least 50% of the required time) </b>
The times are displayed on an LCD character display measuring 16x2 or 20x4, which communicates with the control microcontroller via the I2C bus.
<b><font color="#C0392B">If a team member of the RED team occupies a point by pressing a button, a buzzer is launched, which announces a change in the point with a short beep.
Then the RED team's LED at this station will light up and the display will start adding time for that team.</font></b>
<hr>
<b><font color="#27AE60">If the point is occupied by the GRE team and the team member presses the appropriate button, the buzzer sounds again, the GRE team LED lights up, the RED time is paused and the time of the GRE team that occupied the point is counted.</font></b>
<b><font color="#F39C12">The referee must stop both buttons at the same time to stop both times. Times are stopped until the point is reoccupied by some of the teams in the system
This type of input is thus suitable for starting a break, but it can also end the game for its evaluation.</font></b>
The new game is implemented by resetting the entire Arduino board via the RST button, or by disconnecting and reconnecting the power supply.
In the menu it is also possible to configure the activity / inactivity of the buzzer, which can also be included in the game.
Domination Timer game mode uses a buzzer to announce the current occupation of a point.
Eraser does not exist in this type of Domination Timer.
A second game can be implemented in the system - countdown, which allows you to set a minute countdown while it must be stopped.
The player stops the countdown by holding both buttons for a certain time (based on the configuration menu for the length of pressing from Domination Timer). 
</p>
<hr>
<h4>Compatible control hardware - Configurable Domination Timer:</h4>
<hr>
<div class="row">
<div class="col-sm-3"><center><img src="https://i.imgur.com/wtnzKqO.png" width="128px" height="128px" style="border-radius: 50%;" alt="Control microcontroller Arduino Uno" title="Riadiaci mikrokontróler Arduino Uno"><br><b>Arduino Uno</b></center></div>
<div class="col-sm-3"><center><img src="https://i.imgur.com/ZY3mDps.png" width="128px" height="128px" style="border-radius: 50%;" alt="Control microcontroller Arduino Nano" title="Riadiaci mikrokontróler Arduino Nano"><br><b>Arduino Nano</b></center></div>
<div class="col-sm-3"><center><img src="https://i.imgur.com/4xX0BoE.png" width="128px" height="128px" style="border-radius: 50%;" alt="Control microcontroller AtMega328P DIP" title="Riadiaci mikrokontróler AtMega328P DIP"><br><b>AtMega328P - DIP28</b></center></div>
<div class="col-sm-3"><center><img src="https://i.imgur.com/FANTMuW.png" width="128px" height="128px" style="border-radius: 50%;" alt="Control microcontroller AtMega328P SMD" title="Riadiaci mikrokontróler AtMega328P SMD"><br><b>AtMega328P - SMD</b></center></div>
</div>
<hr>
<h4>Compatible peripherals - Configurable Domination Timer:</h4>
<hr>
<div class="row">
<div class="col-sm-2"><center><img src="https://i.imgur.com/KLImexp.png" width="128px" height="128px" style="border-radius: 50%;" alt="LCD character display 16x2 / 20x4" title="LCD character display 16x2 / 20x4"><br><b>LCD character display 16x2 / 20x4</b></center></div>
<div class="col-sm-2"><center><img src="https://i.imgur.com/DYNZjCW.png" width="128px" height="128px" style="border-radius: 50%;" alt="I2C converter for LCD display" title="I2C converter for LCD display"><br><b>I2C converter for LCD display</b></center></div>
<div class="col-sm-2"><center><img src="https://i.imgur.com/sPFfayL.png" width="128px" height="128px" style="border-radius: 50%;" alt="Rotary 360 ° encoder (KY-040)" title="Rotary 360 ° encoder (KY-040)"><br><b>Rotary 360° encoder (KY-040)</b></center></div>
<div class="col-sm-2"><center><img src="https://i.imgur.com/HPRdfXo.png" width="128px" height="128px" style="border-radius: 50%;" alt="Buzzer" title="Buzzer"><br><b>Buzzer</b></center></div>
<div class="col-sm-2"><center><img src="https://i.imgur.com/OxaPuBN.png" width="128px" height="128px" style="border-radius: 50%;" alt="2x LED diodes" title="2x LED diodes"><br><b>2x LED</b></center></div>
<div class="col-sm-2"><center><img src="https://i.imgur.com/9P3aF98.png" width="128px" height="128px" style="border-radius: 50%;" alt="2x pushbutton" title="2x pushbutton"><br><b>2x pushbutton</b></center></div>
</div>
<hr><center><h3>Wiring diagram - Configurable Domination Timer</h3></center><hr>
<center><img src="https://i.imgur.com/jfk1d8y.png" style="display: block; max-width: 100%; height: auto;" alt="Configurable Domination Timer - schematics" title="Configurable Domination Timer - schematics"></center>        			
<hr><center><h3>Configurable Domination Timer at runtime - testing</h3></center><hr>
<center><img src="https://i.imgur.com/R0wwJjD.jpeg" style="display: block; max-width: 100%; height: auto;" alt="Configurable Domination Timer for Airsoft, Paintball" title="Configurable Domination Timer for Airsoft, Paintball"></center>        			
<h3>Wiring - Configurable Domination Timer - fully corresponds to the wiring diagram:</h3>
<div class="table-responsive">   
<table class="table" style="border: 1px solid black;">
				<thead>		
<tr>
<td align="left" style="background-color:#27AE60"><strong>Arduino Uno / Nano (AtMega328P)</strong></td>
<td align="right" style="background-color:#27AE60"><strong>I2C converter for LCD display</strong></td>
</tr>
<tr>
<td align="left" style="background-color:#27AE60">GND</td>
<td align="right" style="background-color:#27AE60">GND</td>
</tr>
<tr>
<td align="left" style="background-color:#27AE60">5V</td>
<td align="right" style="background-color:#27AE60">Vcc</td>
</tr>
<tr>
<td align="left" style="background-color:#27AE60">A4 (Hardware SDA)</td>
<td align="right" style="background-color:#27AE60">SDA</td>
</tr>
<tr>
<td align="left" style="background-color:#27AE60">A5 (Hardware SCL)</td>
<td align="right" style="background-color:#27AE60">SCL</td>
</tr>
<tr>
<td align="left" style="background-color:#C0392B"><strong>Arduino Uno / Nano (AtMega328P)</strong></td>
<td align="right" style="background-color:#C0392B"><strong>Rotary encoder - KY-040</strong></td>
</tr>
<tr>
<td align="left" style="background-color:#C0392B">GND</td>
<td align="right" style="background-color:#C0392B">GND</td>
</tr>
<tr>
<td align="left" style="background-color:#C0392B">5V</td>
<td align="right" style="background-color:#C0392B">+</td>
</tr>
<tr>
<td align="left" style="background-color:#C0392B">D3</td>
<td align="right" style="background-color:#C0392B">CLK</td>
</tr>
<tr>
<td align="left" style="background-color:#C0392B">D4</td>
<td align="right" style="background-color:#C0392B">DT</td>
</tr>
<tr>
<td align="left" style="background-color:#C0392B">D5</td>
<td align="right" style="background-color:#C0392B">SW</td>
</tr>
<tr>
<td align="left" style="background-color:#F8C471"><strong>Arduino Uno / Nano (AtMega328P)</strong></td>
<td align="right" style="background-color:#F8C471"><strong>LED diodes</strong></td>
</tr>
<tr>
<td align="left" style="background-color:#F8C471">GND</td>
<td align="right" style="background-color:#F8C471">GND</td>
</tr>
<tr>
<td align="left" style="background-color:#F8C471">D6</td>
<td align="right" style="background-color:#F8C471">IN (RED)</td>
</tr>
<tr>
<td align="left" style="background-color:#F8C471">D7</td>
<td align="right" style="background-color:#F8C471">IN (GREEN)</td>
</tr>
<td align="left" style="background-color:#5DADE2"><strong>Arduino Uno / Nano (AtMega328P)</strong></td>
<td align="right" style="background-color:#5DADE2"><strong>Pushbuttons (INPUT_PULLUP)</strong></td>
</tr>
<tr>
<td align="left" style="background-color:#5DADE2">GND</td>
<td align="right" style="background-color:#5DADE2">GND</td>
</tr>
<tr>
<td align="left" style="background-color:#5DADE2">D8</td>
<td align="right" style="background-color:#5DADE2">IN (RED)</td>
</tr>
<tr>
<td align="left" style="background-color:#5DADE2">D9</td>
<td align="right" style="background-color:#5DADE2">IN (GRE)</td>
</tr>
<td align="left" style="background-color:#AF7AC5"><strong>Arduino Uno / Nano (AtMega328P)</strong></td>
<td align="right" style="background-color:#AF7AC5"><strong>Buzzer</strong></td>
</tr>
<tr>
<td align="left" style="background-color:#AF7AC5">D10</td>
<td align="right" style="background-color:#AF7AC5">IO</td>
</tr>
<tr>
<td align="left" style="background-color:#AF7AC5">GND</td>
<td align="right" style="background-color:#AF7AC5">GND</td>
</tr>
</tbody>
</table>				</div>
<hr><center><h2>Test program (Shareware) - Configurable Domination Timer</h2></center><hr>
<div class="alert alert-info">
<p style="text-align: justify;">
<b>Shareware version (.hex) available for Configurable Domination Timer project.</b>The version allows you to measure a maximum of 60 seconds for each team. When this time is reached, the stopwatch stops.
<b>The goal of the version is to verify compatibility with your hardware.</b> Machine codes based on the I2C address of the converter for the LCD display are available in the Github repository.
The most used addresses are 0x27 and 0x3F. If you do not know the address of your converter, use the built-in example in Arduino IDE -> I2C Scanner, which will write the address to the UART interface (Serial monitor).
Machine code can be uploaded to the Arduino Uno microcontroller via the AVRDUDE software - part of the Arduino IDE, or with a GUI interface via the XLoader - easier to use.</p>
<li>AVRDUDE must be run via the CMD (command line) installed with the Arduino IDE. Located in C:/Users/User/Documents/ArduinoData/packages/arduino/tools/avrdude/6.X.X-arduino/bin</li>
<b><center>Sample command for uploading a program to Arduino Uno / Nano (AtMega328P):</center></b>
<li>For firmware with I2C display address 0x27 (example COM port 21 and 115200 baud / s): <b>avrdude -CC: avrdude.conf -v -patmega328p -carduino -PCOM21 -b115200 -D -Uflash:w:encoder_0x27.ino.hex:i</b></li>
<li>For firmware with I2C display address 0x3F (example COM port 21 and 115200 baud / s):<b>avrdude -CC: avrdude.conf -v -patmega328p -carduino -PCOM21 -b115200 -D -Uflash:w:encoder_0x3F.ino.hex:i</b></li>
<li><b>XLoader is a Windows application (executable .exe tool) with a simple graphical interface</b>, which allows the selection of firmware - machine code (.hex), the target platform and can dynamically show the COM port on which the device is located.</li> 
<li><b>By simply clicking on Upload, the machine code can be uploaded automatically</b> (XLoader uses the AVRDUDE tool similar to the Arduino IDE). The XLoader window informs about the successful upload in the form of a list of the number of bytes uploaded.</li>	
<li><font color="red">If you are using Arduino Nano with OLD Bootloader, you ned to use upload speed 57600 baud/s and not standard value 115200 baud/s!</font></li>
<b><font color="red">The firmware can be downloaded from the repository:</font></b> <a href="https://github.com/martinius96/Airsoft-DOMINATOR-RFID/tree/master/firmware/encoder_dominator">HERE</a>. The firmware is in the /firmware/encoder_dominator folder divided  according to the address of the I2C converter (you found out from the I2C scanner output on the UART interface).
</div>
				<hr><h4>Available firmware - Shareware for Configurable Domination Timer</h4><hr>
				<div class="table-responsive">          
 				<table class="table" style="border: 1px solid black;">
				<thead>
				<tr>
				<td align="left" style="background-color:#2ECC71"><strong>Firmware name (in folder encoder_dominator)</strong></td>
				<td align="center" style="background-color:#2ECC71"><strong>Designed for</strong></td>
				<td align="right" style="background-color:#2ECC71"><strong>Download</strong></td>
				</tr>
				</thead>
				<tbody>
				<tr>
				<td align="left">encoder_0x27.ino.hex</td>
				<td align="center">LCD character display size 16x2 or 20x4 with <b> I2C converter, which communicates at address 0x27.</b></td>
				<td align="right"><a href="https://raw.githubusercontent.com/martinius96/Airsoft-DOMINATOR-RFID/master/firmware/encoder_dominator/encoder_0x27.ino.hex" class="btn btn-danger" role="button">Download firmware</a></td>
				<tr>
				<td align="left">encoder_0x3F.ino.hex</td>
				<td align="center">LCD character display size 16x2 or 20x4 with <b> I2C converter, which communicates at address 0x3F.</b></td>
				<td align="right"><a href="https://raw.githubusercontent.com/martinius96/Airsoft-DOMINATOR-RFID/master/firmware/encoder_dominator/encoder_0x3F.ino.hex" class="btn btn-danger" role="button">Download firmware</a></td>
				</tr>
				</tbody>
				</table>
				</div>		



</div>
		</div>
</div>
</body>
</html>
