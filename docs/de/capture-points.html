<!DOCTYPE html>
<html lang="de-DE">
<head>
	<!-- Primary Meta Tags -->
	<title>WiFi-Punkte - Airsoft | Paintball</title>
	<meta name="title" content="WiFi-Punkte - Airsoft | Paintball">
	<meta name="description" content="WiFi-Punkte für Airsoft, Paintball. Erfassen Sie Punkte im Spielmodus, Punkte, die bis zu 1100 Meter kommunizieren.">
	<link rel="icon" type="image/png" href="https://martinius96.github.io/termostat-ethernet/favicon.png">
	<link rel="sitemap" type="application/xml" title="Sitemap" href="../../sitemap.xml" />
	<!-- Open Graph / Facebook -->
	<meta property="og:type" content="website">
	<meta property="og:url" content="https://martinius96.github.io/Airsoft-DOMINATOR-RFID/de/capture-points.html">
	<meta property="og:title" content="WiFi-Punkte - Airsoft | Paintball">
	<meta property="og:description" content="WiFi-Punkte für Airsoft, Paintball. Erfassen Sie Punkte im Spielmodus, Punkte, die bis zu 1100 Meter kommunizieren.">
	<meta property="og:image" content="">

	<!-- Twitter -->
	<meta property="twitter:card" content="summary_large_image">
	<meta property="twitter:url" content="https://martinius96.github.io/Airsoft-DOMINATOR-RFID/de/capture-points.html">
	<meta property="twitter:title" content="WiFi-Punkte - Airsoft | Paintball">
	<meta property="twitter:description" content="WiFi-Punkte für Airsoft, Paintball. Erfassen Sie Punkte im Spielmodus, Punkte, die bis zu 1100 Meter kommunizieren.">
	<meta property="twitter:image" content="">
	
	<meta name="google-site-verification" content="UwZZh2EXv3iWUAi_1Z0hLxVCz6ySJ4UdY_BPoLtejwo" />    	
	<meta property='fb:admins' content='100001242570317'>
    	<meta charset="utf-8">
    	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
	<script type="text/javascript">
    		window.smartlook||(function(d) {
    			var o=smartlook=function(){ o.api.push(arguments)},h=d.getElementsByTagName('head')[0];
    			var c=d.createElement('script');o.api=new Array();c.async=true;c.type='text/javascript';
    			c.charset='utf-8';c.src='https://rec.smartlook.com/recorder.js';h.appendChild(c);
    		})(document);
    		smartlook('init', 'db50efe9fff280a17db52b82be221240cbbd3dbe');
	</script>    
<style>

.aa_h2{
  font:100 5rem/1 Roboto;
  text-transform: uppercase;
}
table{
   background: #fff;
}
table,thead,tbody,tfoot,tr, td,th{
  text-align: center;
  margin: auto;
  border:1px solid #dedede;
  padding: 1rem;
  width: 50%;
}
.table    { display: table; width: 100%; }
.tr       { display: table-row;  }
.thead    { display: table-header-group }
.tbody    { display: table-row-group }
.tfoot    { display: table-footer-group }
.col      { display: table-column }
.colgroup { display: table-column-group }
.td, .th   { display: table-cell; width: 50%; }
.caption  { display: table-caption }

.table,
.thead,
.tbody,
.tfoot,
.tr,
.td,
.th{
  text-align: center;
  margin: auto;
  padding: 1rem;
}
.table{
  background: #fff;
  margin: auto;
  border:none;
  padding: 0;
}

.th{
  font-weight: 700;
  border:1px solid #dedede;
  &:nth-child(odd){
    border-right:none;
  }
}
.td{
  font-weight: 300;
  border:1px solid #dedede;
  border-top:none;
  &:nth-child(odd){
    border-right:none;
  }
}

.aa_htmlTable{
  background: tomato;
  padding: 5rem;
  display: table;
  width: 100%;
  height: 100vh;
  vertical-align: middle;
}
.aa_css{
  background: skyblue;
  padding: 5rem;
  display: table;
  width: 100%;
  height: 100vh;
  vertical-align: middle;
}

.aa_ahmadawais{
  display: table;
  width: 100%;
  font: 100 1.2rem/2 Roboto;
  margin: 5rem auto;
}
    
  </style>
</head>
<body>
	<div class="container">
		<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <ul class="nav navbar-nav">
      	<li class=""><a href="index.html">RFID DOMINATOR</a></li>
<li class=""><a href="dominator-encoder.html">Konfigurierbarer DOMINATOR</a></li>
<li class=""><a href="button-dominator.html">Taste DOMINATOR</a></li> 	
<li class="active"><a href="capture-points.html">WiFi Punkte</a></li>	
<a href="../capture-points.html"><img src="https://futbalovysen.sk/wp-content/uploads/slovakia.png" alt="Slovak flag.png, 2,2kB" title="Slovakia" height="32" width="32"></a>
<a href="../ru/capture-points.html"><img src="https://futbalovysen.sk/wp-content/uploads/russia.png" alt="russia.png, 2,2kB" title="Russia" height="32" width="32"></a>	
<a href="../en/capture-points.html"><img src="https://i2.wp.com/facsusa.com/wp-content/uploads/2017/05/Flag-of-England.png?ssl=1" alt="English.png, 2,2kB" title="English" height="32" width="32"></a>
<a href="../pl/capture-points.html"><img src="https://i.imgur.com/OteBe4t.png" alt="poland.png, 2,2kB" title="Poland" height="32" width="32"></a>
<a href="../fr/capture-points.html"><img src="https://i.imgur.com/vX7NaZ7.png" alt="Frenxh.png, 2,2kB" title="French" height="32" width="32"></a>
<!---
<a href="../it/capture-points.html"><img src="https://www.flaticon.com/premium-icon/icons/svg/3015/3015784.svg" alt="Italy.png, 2,2kB" title="Italy" height="32" width="32"></a>   		    
<a href="../da/capture-points.html"><img src="https://image.flaticon.com/icons/svg/555/555607.svg" alt="Danish.png, 2,2kB" title="Danish" height="32" width="32"></a>
--->
</div>
</nav>  
  		<div class="row">
    			<div class="col-sm-12">
<div class="alert alert-success">
	<strong>Repository mit Testsoftware-Implementierungen für Airsoft WiFi-Punkte: </strong><a href="https://github.com/martinius96/Capture_Points_Arduino_nRF24L01_Airsoft_Paintball">Airsoft - WiFi-Punkte - Arduino</a>
</div>	
<div class="alert alert-info">
	<strong>Die Firmware ist kostenlos erhältlich</strong>
</div>					
<span class="label label-default">Arduino</span>
<span class="label label-primary">DOMINATOR</span>
<span class="label label-success">WiFi</span>
<span class="label label-info">Stoppuhr</span>
<span class="label label-warning">Planen</span>
<span class="label label-danger">Taste</span>
<span class="label label-default">Capture Points</span>
<span class="label label-primary">Paintball</span>
<hr><center><h2>WiFi Punkte für Airsoft | Paintball</h2></center><hr>
<h4>Entitäten im WiFi-Punkte-Projekt:</h4><hr>
 <div class="row">
  <div class="col-sm-6"><center><img src="https://i.imgur.com/2uGic8e.png" width="128px" height="128px" style="border-radius: 50%;" alt="Mannschaft RED" title="Mannschaft RED"><br><b><font color="#C0392B">Mannschaft RED</font></b></center></div>
  <div class="col-sm-6"><center><img src="https://i.imgur.com/etKbK4l.png" width="128px" height="128px" style="border-radius: 50%;" alt="Mannschaft GRE" title="Mannschaft GRE"><br><b><font color="#27AE60">Mannschaft GRE</font></b></center></div>
</div>
<hr>
<h4>Projektbeschreibung für WiFi-Punkte:</h4>
<hr>
<p style = "text-align: justify;">
Der Spielmodus Capture Points eignet sich für Airsoft- und Paintball-Sportarten.
Die Weichen kommunizieren über WLAN-Module nRF24L01 miteinander, während sie Informationen über den Status der Weiche austauschen (ob belegt und von welchem Team).
Der erste Punkt arbeitet im permanenten Sendermodus und erwartet eine Antwort vom zweiten Punkt, nachdem die Informationen gesendet wurden.
Der zweite Punkt arbeitet im Empfängermodus und reagiert auf den Empfang der Senderdaten (Callback).
Dieser Kommunikationsmechanismus verhindert Kollisionen.
Die Situation, dass beide Punkte gleichzeitig übermittelten und die Informationen nicht empfangen konnten, ist nicht so gefährlich.
Jeder der Punkte verwendet einen Arduino-Steuerungsmikrocontroller (Arduino Uno / Nano) oder einen separaten Chip (Atmel) ATmega328P, der die Logik der Tastendrücke steuert.
Es gibt 2 Teams im Spiel - <b> <font color = "#C0392B"> ROTE Team </font> </b> und <b> <font color = "#27AE60"> GRE Team </font> </b> die gegeneinander spielen und versuchen, beide Punkte durch Drücken der entsprechenden Taste zu besetzen.
Die Tasteneingabe zeigt die Aktion der Besetzung eines Punktes durch ein Mitglied des RED- oder GRE-Teams an.
Die im INPUT_PULLUP-Modus angeschlossenen Schalttaster werden verwendet, sie werden auf Masse geschaltet (Active-Low-Signal).
<b> Die Haltezeit / Anzahl der Druckvorgänge wird in der verfügbaren Softwareimplementierung nicht überprüft. Der Punkt reagiert sofort, wenn die Taste ohne Pause gedrückt wird. </b>
</p>
<hr>
<p style = "text-align: justify;">
Das Spiel endet, wenn beide Punkte von derselben Mannschaft besetzt sind.
Eine Punktänderung wird durch einen Detektor angezeigt, der bei jedem Tastendruck piept.
Am Ende des Spiels piepsen beide Detektoren in einer Endlosschleife. Gleichzeitig wird die WLAN-Kommunikation zwischen den nRF24L01-Modulen unterbrochen, so dass keine weiteren Informationen übertragen werden und das Spielergebnis endgültig ist.
WLAN-Module nRF24L01 (Version ohne + PA + LNA) kommunizieren auf ca. 70 Meter, nRF24l01 + PA + LNA auch pro Kilometer, jeweils im Wald und sonst gestörter Umgebung auf der Höhe von 450-700 Metern bei einer maximalen Sendeleistung von 1 mW .
Bei externer Stromversorgung ist es möglich, den YL-105-Adapter mit einem 3,3-V-Wandler zu verwenden und über einen externen Adapter im Bereich von 5 bis 18 V zu versorgen.
Die 5V-Stromversorgung vom Arduino ist nicht zu empfehlen, da sie den Controller zu zerstören droht, da dieser nicht in der Lage ist, den erforderlichen Strom für die maximale Leistung zu liefern.
Bei der Stromversorgung des nRF24L01 über ein 3V3-Arduino-Terminal ist es möglich, die niedrigste Sendeleistung von 0,0158 mW bereitzustellen.
Beide Punkte werden durch Zurücksetzen der Arduín-Taste oder durch Herausziehen und Anschließen des Netzteils (Einschaltzyklus) neu gestartet.
<b> Theoretisch können WLAN-Punkte auf 8 Punkte (8 Pipelines) erweitert werden, die jeweils miteinander kommunizieren. sie können nur basierend auf der vorgeschlagenen Logik mit dem Sender kommunizieren.
Es ist jedoch erforderlich, für jeden Punkt eine Kennung hinzuzufügen, um sie zu unterscheiden.
Der die Kommunikation auslösende Sender kann somit die Besetzung des Teams an allen im System implementierten WLAN-Punkten unterscheiden.
Bei der Übertragung einer größeren Datenmenge kann auch eine Struktur verwendet werden, bei der mehrere Datentypen gleichzeitig als ein Paket übertragen werden können.
Die Empfangsstelle ist somit in der Lage, aufgrund der Größe der einzelnen Datentypen Daten aus der erwarteten Struktur zu entnehmen.
</b>
</p>
<div class="alert alert-info">
  <strong>Drahtlose Module kommunizieren mit 2,4 GHz, es handelt sich nicht um WiFi-Technologie, sie benötigen keinen Router oder Zugangspunkt!</strong> Die Module verfügen über einen eigenen Kommunikationskanal mit einer Auswahl von bis zu 140 Kanälen.
</div>
<hr>
<h4>Unterstützte Modulgeschwindigkeiten nRF24L01:</h4> 
<hr>
<li>250 kbps - <font color="red"><b>Diese Option wird für ältere nRF24L01 nicht unterstützt!</b></font></li>
<li>1 Mbps</li>
<li>2 Mbps</li>
<hr>
<h4>Leistungsmodi von nRF24L01-Modulen:</h4> 
<hr>
<li>RF24_PA_MIN = -18 dBm --> 0,0158 mW</li> 
<li>RF24_PA_LOW = -12 dBm --> 0,0631 mW</li>
<li>RF24_PA_MED = -6 dBm --> 0,2512 mW</li>
<li>RF24_PA_HIGH = 0 dBm --> 1 mW</li>
<hr>
<h4>Blockdiagramm - WiFi-Punkte - Airsoft:</h4>
<hr>
<center><img src="https://i.imgur.com/hglnwgX.jpg" style="display: block; max-width: 100%; height: auto;" alt="Blockschema - Punkte erfassen - Airsoft / Paintball, Arduino, nRF24L01" title="Blockschema - Punkte erfassen - Airsoft / Paintball, Arduino, nRF24L01"></center>	
<hr><h4>Kompatible Steuerungshardware für WiFi-Airsoft-Punkte:</h4><hr>
<div class="row">
<div class="col-sm-3"><center><img src="https://i.imgur.com/wtnzKqO.png" width="128px" height="128px" style="border-radius: 50%;" alt="Control microcontroller Arduino UNO for Domination Timer" title="Control microcontroller Arduino UNO for Domination Timer"><br><b><a href="https://www.ebay.com/itm/254532156570">Arduino UNO</a></b></center></div>
<div class="col-sm-3"><center><img src="https://i.imgur.com/XHC8DBe.png" width="128px" height="128px" style="border-radius: 50%;" alt="Control microcontroller Arduino Nano for Domination Timer" title="Control microcontroller Arduino Nano for Domination Timer"><br><b><a href="https://www.ebay.com/itm/252742123829">Arduino Nano</a></b></center></div>
<div class="col-sm-3"><center><img src="https://i.imgur.com/4xX0BoE.png" width="128px" height="128px" style="border-radius: 50%;" alt="Control microcontroller ATmega328P DIP" title="Control microcontroller ATmega328P DIP"><br><b><a href="https://www.ebay.com/itm/292204064766">ATmega328P - DIP28</a></b></center></div>
<div class="col-sm-3"><center><img src="https://i.imgur.com/FANTMuW.png" width="128px" height="128px" style="border-radius: 50%;" alt="Control microcontroller ATmega328P SMD" title="Control microcontroller ATmega328P SMD"><br><b><a href="https://www.ebay.com/itm/142666414237">ATmega328P - SMD</a></b></center></div>
</div>	
<hr><h4>Peripheriegeräte für WiFi Airsoft-Punkte:</h4><hr>
<div class="row">
<div class="col-sm-3"><center><img src="https://i.imgur.com/1cykMkD.png" width="128px" height="128px" style="border-radius: 50%;" alt="2x WLAN-Modul nRF24L01 / nRF24L01 + PA + LNA" title="2x WLAN-Modul nRF24L01 / nRF24L01 + PA + LNA"><br><b>2x WiFi-Modul nRF24L01 / nRF24L01 + PA + LNA</b></center></div>
<div class="col-sm-3"><center><img src="https://i.imgur.com/9P3aF98.png" width="128px" height="128px" style="border-radius: 50%;" alt="Schaltknopf" title="Schaltknopf"><br><b>4x Schaltknopf</b></center></div>
<div class="col-sm-3"><center><img src="https://i.imgur.com/HPRdfXo.png" width="128px" height="128px" style="border-radius: 50%;" alt="Summer" title="Summer"><br><b>2x Summer</b></center></div>
<div class="col-sm-3"><center><img src="https://i.imgur.com/Tz3cwNZ.png" width="128px" height="128px" style="border-radius: 50%;" alt="4x LEDs" title="4x LEDs"><br><b>4x LEDs</b></center></div>
</div><hr><center><h3>Schaltplan - WiFi-Punkte</h3></center><hr>
<center><img src="https://i.imgur.com/noWoy6S.png" style="display: block; max-width: 100%; height: auto;" alt="WiFi body - DOMINATOR - schéma zapojenia - Arduino / Airsoft, stopwatch, DOMINATION" title="WiFi body - - schéma zapojenia - Arduino / Airsoft, stopwatch, DOMINATION"></center>        			
<hr><center><h3>WiFi-Punkte - Verbindung testen</h3></center><hr>
<center><img src="https://i.imgur.com/bx6mj2V.png" style="display: block; max-width: 100%; height: auto;" alt="WiFi body - - Arduino pre Airsoft, Paintball" title="WiFi body - - Arduino pre Airsoft, Paintball"></center>        			
<hr><h3>WiFi Punkte - Capture Points - Demonstration der Funktionalität:</h3><hr>
<center><iframe width="80%" height="315" src="https://www.youtube.com/embed/SFTyy0cOauU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></center>
<hr>
<h3>Die Verdrahtung der Klemmen - Konfigurierbarer DOMINATOR - entspricht vollständig dem Schaltplan:</h3>
<hr>
<div class="table-responsive">   
<table class="table" style="border: 1px solid black;">
<thead>		
<tr>
<td align="left" style="background-color:#C0392B"><strong>Arduino Uno / Nano (ATmega328P)</strong></td>
<td align="right" style="background-color:#C0392B">nRF24L01<strong></strong></td>
</tr>
<tr>
<td align="left" style="background-color:#C0392B">GND</td>
<td align="right" style="background-color:#C0392B">GND</td>
</tr>
<tr>
<td align="left" style="background-color:#C0392B">3V3 / externý zdroj</td>
<td align="right" style="background-color:#C0392B">Vcc</td>
</tr>
<tr>
<td align="left" style="background-color:#C0392B">D3</td>
<td align="right" style="background-color:#C0392B">CSN</td>
</tr>
<tr>
<td align="left" style="background-color:#C0392B">D4</td>
<td align="right" style="background-color:#C0392B">CE</td>
</tr>
<tr>
<td align="left" style="background-color:#C0392B">D11</td>
<td align="right" style="background-color:#C0392B">MOSI</td>
</tr>
<tr>
<td align="left" style="background-color:#C0392B">D12</td>
<td align="right" style="background-color:#C0392B">MISO</td>
</tr>
<tr>
<td align="left" style="background-color:#C0392B">D13</td>
<td align="right" style="background-color:#C0392B">SCK</td>
</tr>
<tr>
<td align="left" style="background-color:#F8C471"><strong>Arduino Uno / Nano (ATmega328P)</strong></td>
<td align="right" style="background-color:#F8C471"><strong>LED Dioden</strong></td>
</tr>
<tr>
<td align="left" style="background-color:#F8C471">GND</td>
<td align="right" style="background-color:#F8C471">GND</td>
</tr>
<tr>
<td align="left" style="background-color:#F8C471">D7</td>
<td align="right" style="background-color:#F8C471">IN (RED)</td>
</tr>
<tr>
<td align="left" style="background-color:#F8C471">D8</td>
<td align="right" style="background-color:#F8C471">IN (GREEN)</td>
</tr>
<td align="left" style="background-color:#5DADE2"><strong>Arduino Uno / Nano (ATmega328P)</strong></td>
<td align="right" style="background-color:#5DADE2"><strong>Taste (INPUT_PULLUP)</strong></td>
</tr>
<tr>
<td align="left" style="background-color:#5DADE2">GND</td>
<td align="right" style="background-color:#5DADE2">GND</td>
</tr>
<tr>
<td align="left" style="background-color:#5DADE2">D5</td>
<td align="right" style="background-color:#5DADE2">IN (RED)</td>
</tr>
<tr>
<td align="left" style="background-color:#5DADE2">D6</td>
<td align="right" style="background-color:#5DADE2">IN (GRE)</td>
</tr>
<td align="left" style="background-color:#AF7AC5"><strong>Arduino Uno / Nano (ATmega328P)</strong></td>
<td align="right" style="background-color:#AF7AC5"><strong>Summer</strong></td>
</tr>
<tr>
<td align="left" style="background-color:#AF7AC5">D2</td>
<td align="right" style="background-color:#AF7AC5">IO</td>
</tr>
<tr>
<td align="left" style="background-color:#AF7AC5">GND</td>
<td align="right" style="background-color:#AF7AC5">GND</td>
</tr>
</tbody>
</table>				</div>
<hr><center><h4>Verfügbare Bibliotheken für Mikrocontroller (Arduino)</h4></center><hr>
<div class="alert alert-danger">
	Bibliotheksarchiv (.zip) erweitern auf <strong>C:/Users/[User]/Documents/Arduino/libraries</strong>
</div>
<div class="table-responsive">   
<table class="table" style="border: 1px solid black;">
<thead>
<tr>
<th style="width: 25%">Name der Bibliothek</th>
<th style="width: 50%">Bibliotheksfunktion</th>
<th style="width: 25%">Herunterladen</th>
</tr>
</thead>
<tbody>
<tr>
<td style="width: 25%"><b>RF24</b></td>
<td style="width: 50%">
<p style="text-align: justify;">
Bibliothek für AVR-Mikrocontroller (ATmega) Arduino Uno / Nano / Mega.
Es ermöglicht die Steuerung von WiFi-Modulen nRF24L01 (nRF24L01 + PA + LNA), die über den SPI-Bus kommunizieren.
</p>
</td>
<td style="width: 25%"><a href="https://minhaskamal.github.io/DownGit/#/home?url=https://github.com/martinius96/Capture_Points_Arduino_nRF24L01_Airsoft_Paintball/tree/master/src/RF24" class="btn btn-success" role="button">Herunterladen</a></td>
</tr>
</tbody>
</table>
</div>
<hr><center><h2>Programm - WiFi-Punkte</h2></center><hr>
<h3><font color="#2ECC71">Programm - NODE 1 (permanenter Sender)</font></h3>					   
<hr>
<pre style="background: #2ECC71;">
// nRF24L01 transmitter
#include &lt;SPI.h>
#include "RF24.h"
#define CE 4
#define CS 3
RF24 nRF(CE, CS);
int response = 8;
int received = 12;
const int buzzer = 2;
const int red_team = 5;
const int blue_team = 6;
const int red_led = 7;
const int blue_led = 8;
byte adresaPrijimac[] = "prijimac00";
byte adresaVysilac[] = "vysilac00";
void setup() {
  Serial.begin(9600);
  pinMode(buzzer, OUTPUT);
  pinMode(red_led, OUTPUT);
  pinMode(blue_led, OUTPUT);
  pinMode(red_team, INPUT_PULLUP);
  pinMode(blue_team, INPUT_PULLUP);
  nRF.begin();
  nRF.setDataRate( RF24_250KBPS );
  nRF.setPALevel(RF24_PA_LOW);
  nRF.openWritingPipe(adresaVysilac);
  nRF.openReadingPipe(1, adresaPrijimac);
  nRF.startListening();
}

void loop() {
  if (response == received) {
    tone( buzzer, 900, 800);
    delay(1000);
  } else {
    nRF.stopListening();
    int output_red = digitalRead(red_team);
    int output_blue = digitalRead(blue_team);
    if (output_red == LOW) {
      response = 1;
      digitalWrite(red_led, HIGH);
      digitalWrite(blue_led, LOW);
    } else if (output_blue == LOW) {
      response = 2;
      digitalWrite(red_led, LOW);
      digitalWrite(blue_led, HIGH);
    }
    nRF.write( &response, sizeof(response) );
    nRF.startListening();
    while (nRF.available()) {
      nRF.read( &received, sizeof(received) );
    }
    Serial.println("Received datas: ");
    Serial.println(received);
    Serial.println("Response: ");
    Serial.println(response);
    delay(50);
  }
}
</pre>
<hr>   
<h3><font color="#CB4335">Programm - NODE 2 (Dauerempfänger mit Rückruf zum Sender)</font></h3>					   
<hr>
<pre style="background: #CB4335;">
// nRF24L01 receiver
#include &lt;SPI.h>
#include "RF24.h"
int response = 3;
int received = 4;
const int buzzer = 2;
const int red_team = 5;
const int blue_team = 6;
const int red_led = 7;
const int blue_led = 8;
#define CE 4
#define CS 3
RF24 nRF(CE, CS);
byte adresaPrijimac[] = "prijimac00";
byte adresaVysilac[] = "vysilac00";
void setup() {
  Serial.begin(9600);
  pinMode(buzzer, OUTPUT);
  pinMode(red_led, OUTPUT);
  pinMode(blue_led, OUTPUT);
  pinMode(red_team, INPUT_PULLUP);
  pinMode(blue_team, INPUT_PULLUP);
  nRF.begin();
  nRF.setDataRate( RF24_250KBPS );
  nRF.setPALevel(RF24_PA_LOW);
  nRF.openWritingPipe(adresaPrijimac);
  nRF.openReadingPipe(1, adresaVysilac);
  nRF.startListening();
}

void loop() {
  if (response == received) {
    tone( buzzer, 900, 800);
    delay(1000);
  } else {
    if ( nRF.available()) {
      while (nRF.available()) {
        nRF.read( &received, sizeof(received) );
      }
      Serial.println("Received datas:: ");
      Serial.println(received);
      Serial.println("Response: ");
      Serial.println(response);
      nRF.stopListening();
      int output_red = digitalRead(red_team);
      int output_blue = digitalRead(blue_team);
      if (output_red == LOW) {
        response = 1;
        digitalWrite(red_led, HIGH);
        digitalWrite(blue_led, LOW);
      } else if (output_blue == LOW) {
        response = 2;
        digitalWrite(red_led, LOW);
        digitalWrite(blue_led, HIGH);
      }
      nRF.write( &response, sizeof(response) );
      nRF.startListening();
    }
  }
}
</pre>       



</div>
		</div>
</div>
</body>
</html>
